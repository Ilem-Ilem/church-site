<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pick a Date</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

  <div x-data="calendarApp()" class="bg-white p-6 rounded-2xl shadow w-96">
    <h2 class="text-xl font-bold mb-4 text-gray-800">Pick an Available Date</h2>

    <!-- Calendar Input -->
    <input id="datePicker" type="text"
           class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500"
           x-model="selectedDate"
           placeholder="Select a date">

    <!-- Show selection -->
    <template x-if="selectedDate">
      <div class="mt-4 p-3 rounded-lg bg-green-100 text-green-700">
        You picked: <span class="font-semibold" x-text="selectedDate"></span>
      </div>
    </template>
  </div>

  <script>
    function calendarApp() {
      return {
        selectedDate: null,
        // Example: Admin says Monday (1) and Wednesday (3) are available
        enabledDays: [1, 3], 

        init() {
          flatpickr("#datePicker", {
            dateFormat: "Y-m-d",
            disable: [
              (date) => !this.enabledDays.includes(date.getDay())
            ],
            onChange: (selectedDates, dateStr) => {
              this.selectedDate = dateStr;
            }
          });
        }
      }
    }
  </script>
</body>
</html>
